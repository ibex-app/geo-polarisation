// var ctx = document.getElementById("area").getContext("2d");

// ctxes = [...document.getElementsByClassName("area")];

dataset = {'გირჩი': {'labels': ['2023-01-02',
'2023-01-09',
'2023-01-16',
'2023-01-23',
'2023-01-30',
'2023-02-06',
'2023-02-13',
'2023-02-20',
'2023-02-27',
'2023-03-06',
'2023-03-13',
'2023-03-20',
'2023-03-27'],
'poleA': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
'neutral': [0, 5, 0, 4, 6, 0, 2, 0, 0, 0, 1, 0, 0],
'poleB': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]},
'კონსერვატიული მოძრაობა': {'labels': ['2023-01-02',
'2023-01-09',
'2023-01-16',
'2023-01-23',
'2023-01-30',
'2023-02-06',
'2023-02-13',
'2023-02-20',
'2023-02-27',
'2023-03-06',
'2023-03-13',
'2023-03-20',
'2023-03-27'],
'poleA': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 1, 0],
'neutral': [0, 58, 14, 0, 26, 6, 0, 0, 0, 2, 0, 16, 0],
'poleB': [0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 1, 0]},
'ხალხის ძალა': {'labels': ['2023-01-02',
'2023-01-09',
'2023-01-16',
'2023-01-23',
'2023-01-30',
'2023-02-06',
'2023-02-13',
'2023-02-20',
'2023-02-27',
'2023-03-06',
'2023-03-13',
'2023-03-20',
'2023-03-27'],
'poleA': [0, 1, 0, 1, 2, 0, 3, 1, 2, 2, 1, 0, 0],
'neutral': [1, 13, 9, 4, 12, 10, 7, 3, 1, 4, 4, 3, 1],
'poleB': [2, 8, 0, 3, 11, 5, 1, 3, 3, 2, 1, 6, 0]},
'ქართული ოცნება': {'labels': ['2023-01-02',
'2023-01-09',
'2023-01-16',
'2023-01-23',
'2023-01-30',
'2023-02-06',
'2023-02-13',
'2023-02-20',
'2023-02-27',
'2023-03-06',
'2023-03-13',
'2023-03-20',
'2023-03-27'],
'poleA': [0, 0, 0, 0, 0, 0, 2, 0, 0, 1, 0, 0, 0],
'neutral': [0, 1, 0, 0, 1, 4, 6, 1, 1, 0, 0, 3, 0],
'poleB': [0, 0, 0, 0, 1, 1, 4, 2, 0, 3, 2, 1, 0]},
'ერთიანი ნაციონალური მოძრაობა': {'labels': ['2023-01-02',
'2023-01-09',
'2023-01-16',
'2023-01-23',
'2023-01-30',
'2023-02-06',
'2023-02-13',
'2023-02-20',
'2023-02-27',
'2023-03-06',
'2023-03-13',
'2023-03-20',
'2023-03-27'],
'poleA': [21, 12, 5, 10, 15, 18, 16, 19, 6, 2, 13, 10, 2],
'neutral': [7, 4, 13, 13, 3, 3, 2, 1, 0, 0, 2, 7, 0],
'poleB': [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]},
'პატრიოტთა ალიანსი': {'labels': ['2023-01-02',
'2023-01-09',
'2023-01-16',
'2023-01-23',
'2023-01-30',
'2023-02-06',
'2023-02-13',
'2023-02-20',
'2023-02-27',
'2023-03-06',
'2023-03-13',
'2023-03-20',
'2023-03-27'],
'poleA': [0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0],
'neutral': [0, 0, 0, 0, 0, 0, 2, 1, 1, 1, 0, 0, 0],
'poleB': [0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0]},
'ლელო': {'labels': ['2023-01-02',
'2023-01-09',
'2023-01-16',
'2023-01-23',
'2023-01-30',
'2023-02-06',
'2023-02-13',
'2023-02-20',
'2023-02-27',
'2023-03-06',
'2023-03-13',
'2023-03-20',
'2023-03-27'],
'poleA': [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],
'neutral': [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0],
'poleB': [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]},
'სტრატეგია აღმაშენებელი': {'labels': ['2023-01-02',
'2023-01-09',
'2023-01-16',
'2023-01-23',
'2023-01-30',
'2023-02-06',
'2023-02-13',
'2023-02-20',
'2023-02-27',
'2023-03-06',
'2023-03-13',
'2023-03-20',
'2023-03-27'],
'poleA': [0, 1, 0, 0, 4, 2, 0, 1, 0, 0, 0, 2, 0],
'neutral': [0, 1, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0],
'poleB': [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0]},
'საქართველოსთვის': {'labels': ['2023-01-02',
'2023-01-09',
'2023-01-16',
'2023-01-23',
'2023-01-30',
'2023-02-06',
'2023-02-13',
'2023-02-20',
'2023-02-27',
'2023-03-06',
'2023-03-13',
'2023-03-20',
'2023-03-27'],
'poleA': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
'neutral': [0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0],
'poleB': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]},
'გირჩი - მეტი თავისუფლება': {'labels': ['2023-01-02',
'2023-01-09',
'2023-01-16',
'2023-01-23',
'2023-01-30',
'2023-02-06',
'2023-02-13',
'2023-02-20',
'2023-02-27',
'2023-03-06',
'2023-03-13',
'2023-03-20',
'2023-03-27'],
'poleA': [0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0],
'neutral': [1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0],
'poleB': [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0]},
'ლეიბორისტული პარტია': {'labels': ['2023-01-02',
'2023-01-09',
'2023-01-16',
'2023-01-23',
'2023-01-30',
'2023-02-06',
'2023-02-13',
'2023-02-20',
'2023-02-27',
'2023-03-06',
'2023-03-13',
'2023-03-20',
'2023-03-27'],
'poleA': [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0],
'neutral': [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
'poleB': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]},
'მოქალაქეები': {'labels': ['2023-01-02',
'2023-01-09',
'2023-01-16',
'2023-01-23',
'2023-01-30',
'2023-02-06',
'2023-02-13',
'2023-02-20',
'2023-02-27',
'2023-03-06',
'2023-03-13',
'2023-03-20',
'2023-03-27'],
'poleA': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
'neutral': [0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0],
'poleB': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]},
'დროა': {'labels': ['2023-01-02',
'2023-01-09',
'2023-01-16',
'2023-01-23',
'2023-01-30',
'2023-02-06',
'2023-02-13',
'2023-02-20',
'2023-02-27',
'2023-03-06',
'2023-03-13',
'2023-03-20',
'2023-03-27'],
'poleA': [0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0],
'neutral': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
'poleB': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}}
 

is_first = true
Object.keys(dataset).forEach(party => {
  dom = document.querySelector('div[data-party="'+party.replaceAll(' ', '_')+'"] .area')
  dom.parentElement.parentElement.style.display = 'flex'
  console.log(dom)
  new Chart(dom, {
    type: 'line',
    data: {
      labels: dataset[party].labels,
      datasets: [
        {
          label: 'Pole A',
            data: dataset[party].poleA,
            // borderColor: 'rgb(22, 160, 133)',
            backgroundColor: 'rgb(162, 217, 206)',
            fill: 'origin'
        },
        {
          label: 'Neutral',
          data: dataset[party].neutral,
            // borderColor: 'rgb(52, 152, 219)',
            backgroundColor: 'rgb(201, 201, 201)',
            fill: 'origin'
        },
        {
            label: 'Pole B',
            data: dataset[party].poleB,
            //   borderColor: 'rgb(192, 57, 43)',
              backgroundColor: 'rgb(230,176,170)',
              fill: 'origin'
          }

      ]
    },
    options: {
        scales: {
            y: {
              // look at this setting
              stacked: true,
              min: 0,
              max: 65,
            }
          },
        plugins: {
            legend: is_first // Hide legend
        },
    }
  });
  is_first = false
})

